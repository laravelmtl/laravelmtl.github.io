<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Laravel 101</title>

		<meta name="description" content="An introduction to the Laravel framework, for the Winnipeg PHP Meetup group">
		<meta name="author" content="Benjamin Gonzalez">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/laravel101.min.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', include the PDF print sheet -->
		<script>
			if( window.location.search.match( /print-pdf/gi ) ) {
				var link = document.createElement( 'link' );
				link.rel = 'stylesheet';
				link.type = '../text/css';
				link.href = '../css/print/pdf.css';
				document.getElementsByTagName( 'head' )[0].appendChild( link );
			}
		</script>

		<!--[if lt IE 9]>
		<script src="..lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">
			<div class="slides">


<section data-background="../img/background.jpg" data-background-transition="zoom" class="bg-inverse" data-transition="fade">
	<h1>Getting the basis right</h1>
	<p>
		Laravel Montréal #2 - July 17th, 2014
	</p>
</section>


<section>
	<h2>Benjamin Gonzalez</h2>
	<ul>
		<li class="fragment roll-in">Web Developer
			<em class="aside">back-end and more recently front-end</em>
		</li>
		<li class="fragment roll-in">Involved in PHP since 2006
			<em class="aside">with a few years off for good behaviour</em>
		</li>
		<li class="fragment roll-in">CTO for
			<a href="//infoprimes.com">InfoPrimes</a>, founder of
			<a href="//meetups.com/Laravel-Montreal">Laravel Montréal</a>
			<em class="aside">we meet every month, you are welcome :)</em>
		</li>
		<li class="fragment roll-in">@BenjaminRosell at
			<a href="//github.com/BenjaminRosell"> Github</a> and
			<a href="//twitter.com/BenjaminRosell"> Twitter</a>
			<span class="handwriting fragment">&hellip; also on <a href="//www.linkedin.com/pub/benjamin-gonzalez-rosell/1a/929/93"> LinkedIn</a></span>
		</li>
	</ul>
</section>


<section data-background="../img/background.jpg" data-background-transition="slide" class="bg-inverse" data-transition="linear">
	<h1>Laravel</h1>
	<p class="fragment">
		A free, open source, MVC web-application framework
	</p>
	<p class="fragment">
		2011 (v1.0) &mdash; current (v4.2.05)
	</p>
	<p class="fragment">
		Simple to use, elegant, and expressive API
	</p>
	<p class="fragment">
		Emphasis on testability
	</p>
	<p class="fragment">
		Great documentation
	</p>
	<p class="fragment">
		Package-based dependency management
	</p>
	<p class="fragment">
		<a href="//laravel.com"><i class="fa fa-fw fa-cloud-download"></i> laravel.com</a>
	</p>
</section>

<section data-background="../img/background.jpg" data-background-transition="slide" class="bg-inverse" data-transition="linear">
	<blockquote>
		« Any time that I have to do something that is a pain... it puts a seed in my head to work it into Laravel »
	</blockquote>
	<br>
	<p>- Taylor Otwell</p>
	<aside class="notes">
		<i class="fa fa-fw fa-terminal"></i> Laravel gives you the capability to quickly turn a great idea into a living project.
	</aside>
</section>

<section data-background="../img/background.jpg" data-background-transition="slide" class="bg-inverse" data-transition="linear">
	<h1>Laravel is not</h1>
	<p class="fragment">
		full of static methods...
	</p>
	<p class="fragment">
		a restrictive framework
	</p>
	<p class="fragment">
		the absolute best framework
	</p>
	<p class="fragment">
		always the best solution
	</p>
</section>


<section class="full-height" data-background="../img/tyingshoes.jpg" data-background-transition="slide" data-transition="linear">
	<h2 class="bar">Getting Started</h2>
</section>


<section>
	<h2>Prerequisites</h2>
	<ul>
		<li class="fragment roll-in">PHP 5.4.x</li>
		<li class="fragment roll-in">Mcrypt extension</li>
		<li class="fragment roll-in">JSON extension</li>
		</li>
		<li class="fragment roll-in">Composer
			<em class="aside">
				<a href="//getcomposer.org"><i class="fa fa-cloud-download"></i> getcomposer.org</a>
				and install it globally!
			</em>
		</li>
</section>


<section class="full-height" data-background="../img/vintage-computer3.jpg" data-background-transition="slide" data-transition="linear">
	<h2 class="bar">Your First Project</h2>
</section>


<section>
	<h2>Starting a New Project</h2>
	<pre>
<code contenteditable data-trim class="bash">
composer create-project laravel/laravel contacts --prefer-dist
</code>
	</pre>
	<div class="fragment wat skewed stamp-in" >
		<img src="../img/wat.jpg">
	</div>
	<aside class="notes">
		<i class="fa fa-fw fa-terminal"></i> composer create-project laravel/laravel my-project --prefer-dist
	</aside>
</section>


<section data-background="..#706da7" class="bg-inverse" data-transition="zoom">
	<h2 class="no-border"><i class="fa fa-exclamation-triangle fa-lg fa-fw"></i> Git it under control</h2>
	<!-- <div class="handwriting fragment" style="left: 10em; top: 4em;">
		I see what you did.
	</div> -->
</section>


<section class="full-height" data-background="../img/cabinet.jpg" data-background-transition="slide" data-transition="linear">
	<h2 class="bar">Project Structure</h2>
</section>


<section>
	<h2>Project Folders</h2>
	<ul class="folders">
		<li>app
			<span class="handwriting fragment inline padded highlight-active">&lt; your stuff</span>
		</li>
		<li>bootstrap
			<span class="handwriting fragment inline padded highlight-active">&lt;  startup stuff</span>
		</li>
		<li>public
			<span class="handwriting fragment inline padded highlight-active">&lt; static stuff: img, js, css, etc.</span>
		</li>
		<li class="file">composer.json
			<span class="handwriting fragment inline padded highlight-active">&lt; other people's stuff you want</span>
		</li>
		<li>vendor
			<span class="handwriting fragment inline padded highlight-active">&lt; other people's stuff</span>
		</li>
	</ul>
</section>


<section>
	<h2>Application Folders</h2>
	<ul class="folders">
		<li>app
			<ul>
				<li>commands</li>
				<li>config</li>
				<li class="fragment highlight-blue" data-fragment-index="1">controllers</li>
				<li>database</li>
				<li>lang</li>
				<li class="fragment highlight-blue" data-fragment-index="1">models</li>
				<li>start</li>
				<li>storage</li>
				<li>tests</li>
				<li class="fragment highlight-blue" data-fragment-index="1">views</li>
				<li class="file">filters.php</li>
				<li class="file fragment highlight-blue" data-fragment-index="1">routes.php</li>
			</ul>
		</li>
	</ul>
</section>


<section class="full-height" data-background="../img/bob-ross.jpg" data-background-transition="slide" data-transition="linear">
	<h2 class="bar">Artisan</h2>
</section>


<section class="stack">
	<section>
		<h2>Artisan</h2>
		<p>
			Command line tool to make working with Laravel easier.
		</p>
		<pre>
<code contenteditable data-trim class="bash">
php artisan
</code>
		</pre>
	</section>

	<section>
		<h2>Built-in Server</h2>
		<pre>
<code contenteditable data-trim class="bash">
php artisan serve --port 8000
</code>
		</pre>
		<aside class="notes">
			<i class="fa fa-fw fa-terminal"></i> php artisan serve<br>
			<i class="fa fa-fw fa-compass"></i> localhost:8000 <br>
			Although this is great for very small projects, dont dont benefit from all the goodness a real development environment offers
		</aside>
	</section>

</section>

<section class="full-height" data-background="../img/homestead.jpg" data-background-transition="slide" data-transition="linear">
	<h2 class="bar">Homestead</h2>
</section>

<section>
	<h2>Software installed</h2>
	<ul>
		<li class="fragment roll-in">Ubuntu 14.04</li>
		<li class="fragment roll-in">PHP 5.5</li>
		<li class="fragment roll-in">Nginx</li>
		<li class="fragment roll-in">MySQL</li>
		<li class="fragment roll-in">Postgres</li>
		<li class="fragment roll-in">Node (With Bower, Grunt, and Gulp)</li>
		<li class="fragment roll-in">Redis</li>
		<li class="fragment roll-in">Memcached</li>
		<li class="fragment roll-in">Beanstalkd</li>
		<li class="fragment roll-in">Laravel Envoy</li>
	</ul>
	<span class="handwriting fragment padded highlight-active">&lt; make sure you have <a href="http://www.vagrantup.com">vagrant</a> and <a href="http://www.virtualbox.com">virtualbox</a> installed</span>
	<aside class="notes">
		Homestead is a prepackaged vagrant box with all the tools that you need to fully benefit from laravel's protential.br <br>
		In a simple process, you have a virtual machine that allows you to keep your machine clean from development scrap...		
	</aside>
</section>

<section>
	<h2>Installing homestead</h2>
	<pre>
<code contenteditable data-trim class="php">
vagrant box add laravel/homestead
</code>

<code contenteditable data-trim class="bash">
git clone https://github.com/laravel/homestead.git Homestead
</code>
</pre>
</section>

<section>
	<h2>The config file</h2>
	<pre>
<code contenteditable data-trim class="yml" data-filename="homestead.yml">
---
ip: "192.168.10.10"
memory: 2048
cpus: 1

authorize: /Users/benjamingonzalez/.ssh/id_rsa.pub

keys:
    - /Users/benjamingonzalez/.ssh/id_rsa

folders:
    - map: /Applications/MAMP/htdocs/contacts
      to: /home/vagrant/code/contacts

sites:
    - map: contacts.app
      to: /home/vagrant/code/contacts/public

variables:
    - key: APP_ENV
      value: local
</code>
</pre>
</section>


<section class="full-height" data-background="../img/vintage-routing1.jpg" data-background-transition="slide" data-transition="linear">
	<h2 class="bar">Routing</h2>
</section>


<section>
	<h2>Simple routing</h2>
	<div class="fragment-block">
		<pre>
<code contenteditable data-trim class="php" data-filename="app/routes.php">
// Simple resource routing
Route::resource('/', 'ContactsController');
</code>
		</pre>
		</pre>
	</div>
	<aside class="notes">
<i class="fa fa-fw fa-terminal"></i> git checkout v2.1<br>
<i class="fa fa-fw fa-compass"></i> /hello/Benjamin <br>
Soon we will realise that it's not the best practice to develop a whole application within the routes.php file...

	</aside>
</section>


<section>
	<h2>Listing Routes</h2>
	<pre>
<code contenteditable data-trim class="bash">
php artisan routes
</code>
	</pre>
	<aside class="notes">
		<i class="fa fa-fw fa-terminal"></i> php artisan routes<br>
	</aside>
</section>

<section class="full-height" data-background="../img/vintage-controller1.jpg" data-background-transition="slide" data-transition="linear">
	<h2 class="bar">Controllers</h2>
</section>


<section>
	<h2>Resource Controllers</h2>
	<pre>
<code contenteditable data-trim class="bash">
php artisan controller:make ContactsController
</code>
	</pre>
	<pre class="fragment">
<code contenteditable data-trim class="php" data-filename="app/routes.php">
Route::resource('/', 'ContactsController');
</code>
	</pre>
	<pre class="fragment">
<code contenteditable data-trim class="php" data-filename="app/controllers/PostsController.php">
class ContactsController extends BaseController {

	public function index() {}          // GET    /
	public function create() {}         // GET    /create
	public function store() {}          // POST   /
	public function show($id) {}        // GET    /1
	public function edit($id) {}        // GET    /1/edit
	public function update($id) {}      // PUT    /1
	public function destroy($id) {}     // DELETE /1

}
</code>
	</pre>
	<pre class="fragment">
<code contenteditable data-trim class="bash">
php artisan routes
</code>
	</pre>
	<aside class="notes">
<i class="fa fa-fw fa-terminal"></i> php artisan controller:make PostsController<br>
<i class="fa fa-fw fa-pencil"></i> app/routes.php<br>
<i class="fa fa-fw fa-pencil"></i> app/controllers/PostsController.php<br>
<i class="fa fa-fw fa-terminal"></i> php artisan routes<br>
from 0 to crud in a few lines of code... you can literally build a basic api endpoint within minutes...
	</aside>
</section>

<section class="full-height" data-background="../img/tape-drives.jpg" data-background-transition="slide" data-transition="linear">
	<h2 class="bar">Database setup</h2>
</section>


<section>
	<h2>Supported Databases</h2>
	<p>
		Out-of-the-box support for:
	</p>
	<ul>
		<li>MySQL</li>
		<li>Postgres</li>
		<li>SQLite</li>
		<li>SQL Server</li>
	</ul>
</section>


<section class="stack">

	<section>
		<h2>Configuration</h2>
		<div class="fragment-block">
			<pre class="fragmentx">
<code contenteditable data-trim class="php" data-filename="app/config/database.php">
return array(
	'default' => 'mysql',

	'connections' => array(
		'mysql' => array(
			'driver'    => 'mysql',
			'host'      => 'localhost',
			'database'  => 'contacts',
			'username'  => 'homestead',
			'password'  => 'secret'
			'charset'   => 'utf8',
			'collation' => 'utf8_unicode_ci',
			'prefix'    => '',
		),
	…
</code>
		</pre>
			<pre class="fragment">
<code contenteditable data-trim class="php" data-filename="app/config/database.php">
return array(
	'default' => 'mysql',

	'connections' => array(
		'mysql' => array(
			'driver'    => 'mysql',
			'host'      => 'localhost',
			'database'  => $_ENV['MYSQL_DB'],
			'username'  => $_ENV['MYSQL_USER'],
			'password'  => $_ENV['MYSQL_PASS'],
			'charset'   => 'utf8',
			'collation' => 'utf8_unicode_ci',
			'prefix'    => '',
		),
	…
</code>
		</pre>
	</div>
	</section>

	<section>
		<h2>Secret Environment Variables</h2>
		<pre>
<code contenteditable data-trim class="php" data-filename=".env.php">
return array(
	'MYSQL_DB' => 'contacts',
	'MYSQL_USER' => 'homestead',
	'MYSQL_PASS' => 'secret',
);
</code>
		</pre>
		<aside class="notes">
			<i class="fa fa-fw fa-terminal"></i> git checkout v5.0<br>
		</aside>
	</section>

</section>


<section class="full-height" data-background="../img/migration2.jpg" data-background-transition="slide" data-transition="linear">
	<h2 class="bar">Migrations</h2>
</section>

<section class="stack">

	<section>
		<h2>Preparing</h2>
		<pre>
<code contenteditable data-trim class="bash">
php artisan migrate:make create_contacts_table --create="contacts"
</code>
		</pre>
		<aside class="notes">
 			<i class="fa fa-fw fa-terminal"></i> php artisan migrate:make create_contacts_table --create="contacts"<br>
		</aside>
	</section>

	<section>
		<h2>Migration File</h2>
		<pre>
<code contenteditable data-trim class="php" data-filename="app/database/migrations/###_create_posts_table.php">
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Database\Migrations\Migration;

class CreatePostsTable extends Migration {

	/**
	 * Run the migrations.
	 *
	 * @return void
	 */
	public function up()
	{
		//
	}

	/**
	 * Reverse the migrations.
	 *
	 * @return void
	 */
	public function down()
	{
		//
	}

}
</code>
		</pre>
	</section>

	<section>
		<h2>Schema Building</h2>
		<pre>
<code contenteditable data-trim class="php">
public function up()
{
	Schema::create('posts', function(Blueprint $table) {
		$table->increments('id');
		$table->string('name', 50);
		$table->string('email')->nullable()->unique();
		$table->string('telephone')->nullable()->unique();
		$table->boolean('active')->default(true);
		$table->timestamps();
	});
}
</code>
<code contenteditable data-trim class="php">
public function down()
{
	Schema::drop('posts');
}
</code>
		</pre>
	</section>

	<section>
		<h2>Run Migrations</h2>
		<pre>
<code contenteditable data-trim class="bash">
php artisan migrate
</code>
		</pre>
		<div class="fragment">
			<h2>Ooops!</h2>
			<pre>
<code contenteditable data-trim class="bash">
php artisan migrate:rollback
</code>
			</pre>
		</div>
		<aside class="notes">
			<i class="fa fa-fw fa-folder"></i> SQL<br>
		</aside>
	</section>

</section>

<section class="full-height" data-background="../img/models2.jpg" data-background-transition="fade" data-transition="linear">
	<h2 class="bar">Models</h2>
</section>


<section>
	<h2>Eloquent</h2>
	<pre>
<code contenteditable data-trim class="php" data-filename="app/models/Contact.php">
class Contact extends Eloquent {}
</code>
	</pre>
</section>

<section class="stack">

<section>
	<h2>Getting all results</h2>
	<pre>
<code contenteditable data-trim class="php" data-filename="app/controllers/ContactsController.php">

    /**
     * Display a listing of contacts
     *
     * @return Response
     */
    public function index()
    {
        $contacts = Contact::all();

        return View::make('contacts.index', compact('contacts'));
    }
</code>
	</pre>	
</section>
<section>
	<h2>Displaying a new contact form</h2>
	<pre class="fragment">
<code contenteditable data-trim class="php" data-filename="app/controllers/ContactsController.php">

    /**
     * Show the form for creating a new contact
     *
     * @return Response
     */
    public function create()
    {
        return View::make('contacts.create');
    }
</code>
	</pre>	
</section>
<section>
	<h2>Storing a new contact</h2>
	<pre class="fragment">
<code contenteditable data-trim class="php" data-filename="app/controllers/ContactsController.php">

    /**
     * Store a newly created contact in storage.
     *
     * @return Response
     */
    public function store()
    {
        $validator = Validator::make($data = Input::all(), Contact::$rules);

        if ($validator->fails())
        {
            return Redirect::back()->withErrors($validator)->withInput();
        }

        Contact::create($data);

        return Redirect::route('contacts.index');
    }

</code>
	</pre>	
</section>
<section>
	<h2>Showing a contact</h2>
	<pre class="fragment">
<code contenteditable data-trim class="php" data-filename="app/controllers/ContactsController.php">

    /**
     * Display the specified contact.
     *
     * @param  int  $id
     * @return Response
     */
    public function show($id)
    {
        $contact = Contact::findOrFail($id);

        return View::make('contacts.show', compact('contact'));
    }

</code>
	</pre>	
</section>
<section>
	<h2>Edit form</h2>
	<pre class="fragment">
<code contenteditable data-trim class="php" data-filename="app/controllers/ContactsController.php">

    /**
     * Show the form for editing the specified contact.
     *
     * @param  int  $id
     * @return Response
     */
    public function edit($id)
    {
        $contact = Contact::find($id);

        return View::make('contacts.edit', compact('contact'));
    }

</code>
	</pre>	
	</section>
<section>
	<h2>Updating the contact</h2>
	<pre class="fragment">
<code contenteditable data-trim class="php" data-filename="app/controllers/ContactsController.php">

    /**
     * Update the specified resource in storage.
     *
     * @param  int  $id
     * @return Response
     */
    public function update($id)
    {
        $contact = Contact::findOrFail($id);

        $validator = Validator::make($data = Input::all(), Contact::$rules);

        if ($validator->fails())
        {
            return Redirect::back()->withErrors($validator)->withInput();
        }

        $contact->update($data);

        return Redirect::route('contacts.index');
    }

</code>
	</pre>	
</section>
<section>
	<h2>Deleting a contact</h2>
	<pre class="fragment">
<code contenteditable data-trim class="php" data-filename="app/controllers/ContactsController.php">	

    /**
     * Remove the specified resource from storage.
     *
     * @param  int  $id
     * @return Response
     */
    public function destroy($id)
    {
        Contact::destroy($id);

        return Redirect::route('contacts.index');
    }

}
</code>
	</pre>
</section>
</section>



<section class="full-height" data-background="../img/views.jpg" data-background-transition="slide" data-transition="linear">
	<h2 class="bar">Views</h2>
</section>


<section>
	<h2>Passing Data to Views</h2>
	<div class="fragment-block">
		<pre>
<code contenteditable data-trim class="php" data-filename="app/controller/HelloController.php">
class HelloController extends BaseController {

	public function showWelcome($name='stranger')
	{
		return View::make('hello', array('name'=>$name) );
	}

}
</code>
		</pre>
		<pre class="fragment">
<code contenteditable data-trim class="php" data-filename="app/controller/HelloController.php">
class HelloController extends BaseController {

	public function showWelcome($name='stranger')
	{
		return View::make('hello', compact('name') );
	}

}
</code>
		</pre>
	</div>
	<div class="fragment-block">
		<pre>
<code contenteditable data-trim class="html" data-filename="app/views/hello.php">
&lt;html&gt;
	&lt;body&gt;
		&lt;p&gt;Hello, &lt;?php echo e($name); ?&gt;!&lt;/p&gt;
	&lt;/body&gt;
&lt;/html&gt;
</code>
		</pre>
		<pre class="fragment">
<code contenteditable data-trim class="html" data-filename="app/views/hello.blade.php">
&lt;html&gt;
	&lt;body&gt;
		&lt;p&gt;Hello, {{{ $name }}}!&lt;/p&gt;
	&lt;/body&gt;
&lt;/html&gt;
</code>
		</pre>
	</div>
	<aside class="notes">
<i class="fa fa-fw fa-terminal"></i> git checkout 4.0<br>
<i class="fa fa-fw fa-pencil"></i> app/controllers/HelloController.php<br>
<i class="fa fa-fw fa-pencil"></i> app/views/hello.blade.php<br>
	</aside>
</section>


<section class="full-height" data-background="../img/blade1.png" data-background-transition="zoom" data-transition="linear">
	<h2 class="bar">Blade Templating</h2>
</section>



<section class="stack">

	<section>
		<h2>Layouts</h2>
		<pre>
<code contenteditable data-trim class="html" data-filename="app/views/layouts/master.blade.php">
&lt;html&gt;
	&lt;body&gt;
		@include('header')  {{-- app/views/header.blade.php --}}

		@section('sidebar')
			This is the master sidebar.
		@show

		&lt;div class="container"&gt;
			@yield('content', 'Default content')
		&lt;/div&gt;
	&lt;/body&gt;
&lt;/html&gt;
</code>
		</pre>
		<pre>
<code contenteditable data-trim class="php" data-filename="app/views/VIEWNAME.blade.php">
@extends('layouts.master')

@section('sidebar')
	@parent
	<p>This is appended to the master sidebar.</p>
@stop

@section('content')
	<p>This is my body content.</p>
@stop
</code>
		</pre>
		<aside class="notes">
			<i class="fa fa-fw fa-terminal"></i> git checkout v4.1<br>
		</aside>
	</section>

</section>


<section class="full-height" data-background="../img/forms2.jpg" data-background-transition="slide" data-transition="linear">
	<h2 class="bar">Form Handing</h2>
</section>


<section>
	<h2>Building Forms</h2>
	<pre>
<code contenteditable data-trim class="php">
{{ Form::open() }}

	{{ Form::label('name') }}
	{{ Form::text('name', 'default', array('class'=>'form-control') }}

	{{ Form::label('email') }}
	{{ Form::email('email') }}

	{{ Form::label('phone') }}
	{{ Form::email('phone') }}

	{{ Form::checkbox('is_active', 1, null, array('tabindex'=> 4 ) }}
		{{ Form::label('is_active', 'Yes') }}

	{{ Form::submit('Send it!')}}

{{ Form::close() }}

</code>
	</pre>
</section>

<section>
	<h2>Extracting forms !</h2>
	<pre>
<code contenteditable data-trim class="php" data-filename="app/views/create.blade.php">
<h2>Creating a contact</h2>

{{ Form::open(['method' => 'POST', 'route' => ['store' => $contact->id]]) }}

	@include('contacts.partials.form')

{{ Form::close() }}

</code>
	</pre>
	<pre class="fragment">
<code contenteditable data-trim class="php" data-filename="app/views/edit.blade.php">
<h2>Updating a contact</h2>

{{ Form::open(['method' => 'PATCH', 'route' => ['update' => $contact->id]]) }}

	@include('contacts.partials.form')
{{ Form::close() }}

</code>
	</pre>
</section>


<section>
	<h2>Form Model Binding</h2>
	<pre>
<code contenteditable data-trim class="php">
$contact = Contact::findOrFail($id);
return View::make('contacts.edit', compact('contact'));
</code>
	</pre>
	<pre>
<code contenteditable data-trim class="php">
{{ Form::model($contact, array('route'=>array('update', $contact->id), 'method'=>'PUT') ) }}

@include('contacts.partials.form')

{{ Form::close() }}
</code>
	</pre>
</section>


<section class="full-height" data-background="../img/validate.jpg" data-background-transition="fade">
	<h2 class="bar">Validation</h2>
</section>



<section>
	<h2>Validation</h2>
	<pre>
<code contenteditable data-trim class="php">
$validator = Validator::make( $data, $rules );
</code>
	</pre>
	<pre class="fragment">
<code contenteditable data-trim class="php">
if ( $validator->fails() )       // ->passes()
{
	$messages = $validator->messages();
	…
}
</code>
	</pre>
	<pre class="fragment">
<code contenteditable data-trim class="php">
if ( $messages->has('email') )
{
	echo $messages->first('email', '<p>:message</p>');
}
</code>
	</pre>
	<pre class="fragment">
<code contenteditable data-trim class="php">
$messages->get('field');
$messages->all();
</code>
	</pre>
</section>

<section>
	<h2>Validation</h2>
	<pre>
<code contenteditable data-trim class="php">

$validator = Validator::make( $data, Contact::$rules );

</code>
	</pre>
	<pre class="fragment">
<code contenteditable data-trim class="php" data-filename="app/models/Contact.php">
	
	public static $rules = array(...);

</code>
</section>

<section>
	<h2>Validation Rules</h2>
	<pre>
<code contenteditable data-trim class="php">
$data = array(
	'contact' => 'Benjamin Gonzalez',
	'email'  => 'benjamin.rosell@gmail.com',
));

$rules = array(
	'contact'        => 'required|min:5',
	'email'          => 'required|email'
);
</code>
	</pre>
</section>


<section>
	<h2>Validation Rules</h2>
	<pre>
<code contenteditable data-trim class="php">
$rules = array(
	'firstname'  => 'required',
	'lastname'   => 'alpha',
	'email'      => 'email',
	'age'        => 'integer|between:18,65',
	'agree'      => array('required','accepted'),
	'website'    => 'url',
	'password'   => 'confirmed',              // implies matching 'password_confirmation' data
	'company_id' => 'exists:companies,id',
	'gender'     => 'in:male,female',
	'photo'      => 'mimes:jpeg,png|max:100', // kilobytes
	'postalcode' => 'regex:^[A-Z][0-9][A-Z] ?[0-9][A-Z][0-9]$'
);
</code>
	</pre>
</section>

<section class="full-height" data-background="../img/logging1.jpg" data-background-transition="fade" data-transition="linear">
	<h2 class="bar">Logging && Clockwork</h2>
</section>


<section class="full-height" data-background="../img/caching1.jpg" data-background-transition="fade" data-transition="linear">
	<h2 class="bar">Caching</h2>
</section>


<section class="full-height" data-background="../img/mail1.jpg" data-background-transition="fade" data-transition="linear">
	<h2 class="bar">Mail</h2>
</section>

<section class="full-height" data-background="../img/queues.jpg" data-background-transition="fade" data-transition="linear">
	<h2 class="bar">Queues</h2>
</section>

<section data-background="../img/other-features.jpg" data-background-transition="fade" data-transition="linear">
	<h2 class="bar fragment consecutive">Authentication</h2>
	<h2 class="bar fragment consecutive">Events</h2>
	<h2 class="bar fragment consecutive">Localization</h2>
	<h2 class="bar fragment consecutive">Packages</h2>
</section>

<section class="full-height" data-background="../img/blacksmith-s-forge.jpg" data-background-transition="fade" data-transition="linear">
	<h2 class="bar">Laravel Forge</h2>
</section>

<section>
	<h2>Instant PHP platforms on the cloud</h2>
	<ul>
		<li class="fragment">
			Works with:
			<ul class="caret">
				<li>Linode </li>
				<li>Digital Ocean</li>
				<li>AWS</li>
				<li>Rackspace</li>
			</ul>
		</li>
		<li class="fragment">
			Super simple to set up :
			<ul class="caret">
				<li>Create an account </li>
				<li>Add Api keys </li>
				<li>Deploy ! </li>
			</ul>
		</li>
	</ul>
</section>

<section>
	<h2>Laravel Forge</h2>
	<ul>
		<li class="fragment">
			Main features : 
			<ul class="caret">
				<li class="fragment">Same setup as Laravel Homestead
					<em class="aside">
						same local and remote environment
					</em>
				</li>
				<li class="fragment">Push to deploy
					<em class="aside">
						<a href="//github.com"><i class="fa fa-cloud-upload"></i> Github</a> or
						<a href="//bitbucket.com"><i class="fa fa-cloud-upload"></i> Bitbucket</a>
					</em>
				</li>
				<li class="fragment">Does not depend on Laravel ...
					<em class="aside">
						Tuned for Laravel, framework agnostic
					</em>
				</li>
				<li class="fragment">Unlimited servers, domains, subdomains, etc...
				</li>
			</ul>
		</li>
	</ul>
</section>



<section class="shaded bg-inverse" data-background="../img/books1.jpg" data-background-transition="fade" data-transition="linear">
	<h2>Further Reading</h2>
	<ul class="no-bullet">
		<li class="fragment">
			<i class="fa fa-fw fa-lg fa-faded fa-book"></i>
			<a href="//laravel.com/docs">laravel.com/docs</a>
		</li>
		<li class="fragment">
			<i class="fa fa-fw fa-lg fa-faded fa-cogs"></i>
			<a href="//laravel.com/docs">laravel.com/api</a>
		</li>
		<li class="fragment">
			<i class="fa fa-fw fa-lg fa-faded fa-github"></i>
			<a href="//github.com/laravel">github.com/laravel</a>
		</li>
		<li class="fragment">
			<i class="fa fa-fw fa-lg fa-faded fa-comments"></i>
			<a href="//laravel.io">laravel.io</a>
		</li>
		<li class="fragment">
			<i class="fa fa-fw fa-lg fa-faded fa-youtube-play"></i>
			<a href="//laracasts.com">laracasts.com</a>
		</li>
		<li class="fragment">
			<i class="fa fa-fw fa-lg fa-faded fa-github"></i>
			<a href="//github.com/benjaminrosell">github.com/BenjaminRosell</a>
		</li>
	</ul>
</section>


<section class="full-height" data-background="../img/thats-all-folks.png" data-background-transition="fade" data-transition="zoom">
	<h1 class="thats-all fragment spin-in">That&rsquo;s All Folks!</h1>
</section>



			</div>
		</div>

		<script src="..lib/js/head.min.js"></script>
		<script src="..js/reveal.min.js"></script>
		<script>
			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				width: 1440,
				height: 1000,
				margin: 0.15,

				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.pack.js', async: true, callback: function() {
						hljs.configure({ tabReplace: '  ' });
						hljs.initHighlightingOnLoad();
					} },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});
		</script>
	</body>
</html>
